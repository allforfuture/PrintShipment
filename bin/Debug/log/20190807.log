[INF] 2019-08-07 08:45:49 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 08:49:21 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 08:49:21 === Open database OK.
[INF] 2019-08-07 08:49:22 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 08:49:22 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 08:49:53 === Open database OK.
[INF] 2019-08-07 08:49:53 === Execute Function:fn_apply_no
[INF] 2019-08-07 08:49:53 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 08:49:53 === Open database OK.
[INF] 2019-08-07 08:49:53 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780001. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 8:49:53. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 08:50:01 === Open database OK.
[INF] 2019-08-07 08:50:01 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 08:50:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B1. }
[INF] 2019-08-07 08:50:01 === Open database OK.
[INF] 2019-08-07 08:50:01 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 08:50:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B1. }
[INF] 2019-08-07 08:50:01 === Open database OK.
[INF] 2019-08-07 08:50:01 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780001. },{ParamName:@trayid, DbType:AnsiString, Value:B1. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 8:50:01. }
[INF] 2019-08-07 08:50:04 === Open database OK.
[INF] 2019-08-07 08:50:04 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780001' and tray_id = 'B1']
[INF] 2019-08-07 08:50:04 === Open database OK.
[INF] 2019-08-07 08:50:04 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 08:50:04 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:04 === Open database OK.
[INF] 2019-08-07 08:50:04 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 08:50:04 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:04 === Open database OK.
[INF] 2019-08-07 08:50:04 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 08:50:04 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:14 === Open database OK.
[INF] 2019-08-07 08:50:14 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 08:50:14 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:14 === Open database OK.
[INF] 2019-08-07 08:50:14 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 08:50:14 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:14 === Open database OK.
[INF] 2019-08-07 08:50:14 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 08:50:14 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:25 === Open database OK.
[INF] 2019-08-07 08:50:25 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780001. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 8:50:25. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 08:50:28 === Open database OK.
[INF] 2019-08-07 08:50:28 === Execute Function:fn_apply_no
[INF] 2019-08-07 08:50:28 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:carton. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 08:50:28 === Open database OK.
[INF] 2019-08-07 08:50:28 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780001. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 8:50:28. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 08:50:30 === Open database OK.
[INF] 2019-08-07 08:50:30 === Execute SQL:select count(pack_id) as qty from pnt_pack where pack_id = @code and status = 1
[INF] 2019-08-07 08:50:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:30 === Open database OK.
[INF] 2019-08-07 08:50:30 === Execute SQL:select count(pack_id) as qty from pnt_carton where pack_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 08:50:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780001. }
[INF] 2019-08-07 08:50:30 === Open database OK.
[INF] 2019-08-07 08:50:30 === Execute SQL:insert into pnt_carton values (@cartonid, @packid, @pdate, 0) Params:{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780001. },{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780001. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 8:50:30. }
[INF] 2019-08-07 08:50:34 === Open database OK.
[INF] 2019-08-07 08:50:35 === Execute SQLS : [update pnt_carton set status = 1 where carton_id = 'HNIDEC201980780001' and pack_id = 'BNIDEC201980780001']
[INF] 2019-08-07 08:50:35 === Open database OK.
[INF] 2019-08-07 08:50:35 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 08:50:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:35 === Open database OK.
[INF] 2019-08-07 08:50:35 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 08:50:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:35 === Open database OK.
[INF] 2019-08-07 08:50:35 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 08:50:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:46 === Open database OK.
[INF] 2019-08-07 08:50:46 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 08:50:46 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:46 === Open database OK.
[INF] 2019-08-07 08:50:47 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 08:50:47 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:47 === Open database OK.
[INF] 2019-08-07 08:50:47 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 08:50:47 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:53 === Open database OK.
[INF] 2019-08-07 08:50:53 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780001. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 8:50:53. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 08:50:57 === Open database OK.
[INF] 2019-08-07 08:50:57 === Execute Function:fn_apply_no
[INF] 2019-08-07 08:50:57 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 08:50:57 === Open database OK.
[INF] 2019-08-07 08:50:57 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780001. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 8:50:57. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 08:50:59 === Open database OK.
[INF] 2019-08-07 08:50:59 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 08:50:59 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:59 === Open database OK.
[INF] 2019-08-07 08:50:59 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 08:50:59 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:50:59 === Open database OK.
[INF] 2019-08-07 08:50:59 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780001. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780001. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 8:50:59. }
[INF] 2019-08-07 08:51:05 === Open database OK.
[INF] 2019-08-07 08:51:05 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780001' and carton_id = 'HNIDEC201980780001']
[INF] 2019-08-07 08:51:05 === Open database OK.
[INF] 2019-08-07 08:51:05 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 08:51:05 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780001. }
[INF] 2019-08-07 08:51:05 === Open database OK.
[INF] 2019-08-07 08:51:05 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 08:51:05 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780001. }
[INF] 2019-08-07 08:51:05 === Open database OK.
[INF] 2019-08-07 08:51:05 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 08:51:05 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780001. }
[INF] 2019-08-07 08:51:23 === Open database OK.
[INF] 2019-08-07 08:51:23 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 08:51:23 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780001. }
[INF] 2019-08-07 08:51:23 === Open database OK.
[INF] 2019-08-07 08:51:23 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 08:51:23 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780001. }
[INF] 2019-08-07 08:51:23 === Open database OK.
[INF] 2019-08-07 08:51:23 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 08:51:23 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780001. }
[INF] 2019-08-07 08:51:56 === Open database OK.
[INF] 2019-08-07 08:51:56 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 08:51:56 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780001. }
[INF] 2019-08-07 08:52:58 === Open database OK.
[INF] 2019-08-07 08:52:58 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780001. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 8:52:58. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 08:56:13 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 08:56:14 === Open database OK.
[INF] 2019-08-07 08:56:14 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 08:56:14 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:00:43 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:00:44 === Open database OK.
[INF] 2019-08-07 09:00:44 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:00:44 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:01:23 === Open database OK.
[INF] 2019-08-07 09:01:23 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:01:23 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:01:23 === Open database OK.
[INF] 2019-08-07 09:01:23 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780002. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:01:23. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:01:28 === Open database OK.
[INF] 2019-08-07 09:01:28 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 09:01:28 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B2. }
[INF] 2019-08-07 09:01:28 === Open database OK.
[INF] 2019-08-07 09:01:28 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:01:28 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B2. }
[INF] 2019-08-07 09:01:28 === Open database OK.
[INF] 2019-08-07 09:01:28 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780002. },{ParamName:@trayid, DbType:AnsiString, Value:B2. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:01:28. }
[INF] 2019-08-07 09:01:34 === Open database OK.
[INF] 2019-08-07 09:01:34 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780002' and tray_id = 'B2']
[INF] 2019-08-07 09:01:34 === Open database OK.
[INF] 2019-08-07 09:01:34 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 09:01:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:34 === Open database OK.
[INF] 2019-08-07 09:01:34 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:01:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:34 === Open database OK.
[INF] 2019-08-07 09:01:34 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 09:01:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:43 === Open database OK.
[INF] 2019-08-07 09:01:44 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 09:01:44 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:44 === Open database OK.
[INF] 2019-08-07 09:01:44 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:01:44 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:44 === Open database OK.
[INF] 2019-08-07 09:01:44 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 09:01:44 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:47 === Open database OK.
[INF] 2019-08-07 09:01:47 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780002. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:01:47. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:01:49 === Open database OK.
[INF] 2019-08-07 09:01:49 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:01:49 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:carton. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:01:49 === Open database OK.
[INF] 2019-08-07 09:01:49 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780002. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:01:49. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:01:51 === Open database OK.
[INF] 2019-08-07 09:01:51 === Execute SQL:select count(pack_id) as qty from pnt_pack where pack_id = @code and status = 1
[INF] 2019-08-07 09:01:51 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:51 === Open database OK.
[INF] 2019-08-07 09:01:51 === Execute SQL:select count(pack_id) as qty from pnt_carton where pack_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:01:51 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780002. }
[INF] 2019-08-07 09:01:51 === Open database OK.
[INF] 2019-08-07 09:01:51 === Execute SQL:insert into pnt_carton values (@cartonid, @packid, @pdate, 0) Params:{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780002. },{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780002. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:01:51. }
[INF] 2019-08-07 09:01:55 === Open database OK.
[INF] 2019-08-07 09:01:55 === Execute SQLS : [update pnt_carton set status = 1 where carton_id = 'HNIDEC201980780002' and pack_id = 'BNIDEC201980780002']
[INF] 2019-08-07 09:01:55 === Open database OK.
[INF] 2019-08-07 09:01:55 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 09:01:55 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:01:55 === Open database OK.
[INF] 2019-08-07 09:01:55 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:01:55 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:01:55 === Open database OK.
[INF] 2019-08-07 09:01:55 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 09:01:55 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:06 === Open database OK.
[INF] 2019-08-07 09:02:06 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 09:02:06 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:06 === Open database OK.
[INF] 2019-08-07 09:02:06 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:02:06 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:06 === Open database OK.
[INF] 2019-08-07 09:02:06 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 09:02:06 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:11 === Open database OK.
[INF] 2019-08-07 09:02:11 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780002. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:02:11. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:02:15 === Open database OK.
[INF] 2019-08-07 09:02:15 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:02:15 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:02:15 === Open database OK.
[INF] 2019-08-07 09:02:15 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780002. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:02:15. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:02:17 === Open database OK.
[INF] 2019-08-07 09:02:17 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:02:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:17 === Open database OK.
[INF] 2019-08-07 09:02:17 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:02:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:17 === Open database OK.
[INF] 2019-08-07 09:02:17 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780002. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780002. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:02:17. }
[INF] 2019-08-07 09:02:21 === Open database OK.
[INF] 2019-08-07 09:02:21 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780002' and carton_id = 'HNIDEC201980780002']
[INF] 2019-08-07 09:02:21 === Open database OK.
[INF] 2019-08-07 09:02:21 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:02:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780002. }
[INF] 2019-08-07 09:02:21 === Open database OK.
[INF] 2019-08-07 09:02:21 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:02:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780002. }
[INF] 2019-08-07 09:02:21 === Open database OK.
[INF] 2019-08-07 09:02:21 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:02:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780002. }
[INF] 2019-08-07 09:02:38 === Open database OK.
[INF] 2019-08-07 09:02:38 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:02:38 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780002. }
[INF] 2019-08-07 09:02:38 === Open database OK.
[INF] 2019-08-07 09:02:38 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:02:38 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780002. }
[INF] 2019-08-07 09:02:38 === Open database OK.
[INF] 2019-08-07 09:02:38 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:02:38 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780002. }
[INF] 2019-08-07 09:02:49 === Open database OK.
[INF] 2019-08-07 09:02:49 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 09:02:49 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:02:53 === Open database OK.
[INF] 2019-08-07 09:02:53 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780002. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:02:53. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:05:53 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:05:54 === Open database OK.
[INF] 2019-08-07 09:05:54 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:05:54 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:06:04 === Open database OK.
[INF] 2019-08-07 09:06:04 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:06:04 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:06:04 === Open database OK.
[INF] 2019-08-07 09:06:04 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780003. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:06:04. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:06:13 === Open database OK.
[INF] 2019-08-07 09:06:13 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:06:13 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:06:17 === Open database OK.
[INF] 2019-08-07 09:06:17 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:06:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:06:17 === Open database OK.
[INF] 2019-08-07 09:06:17 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780003. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780002. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:06:17. }
[INF] 2019-08-07 09:06:37 === Open database OK.
[INF] 2019-08-07 09:06:37 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780003' and carton_id = 'HNIDEC201980780002']
[INF] 2019-08-07 09:06:37 === Open database OK.
[INF] 2019-08-07 09:06:37 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:06:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780003. }
[INF] 2019-08-07 09:06:37 === Open database OK.
[INF] 2019-08-07 09:06:37 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:06:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780003. }
[INF] 2019-08-07 09:06:37 === Open database OK.
[INF] 2019-08-07 09:06:37 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:06:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780003. }
[INF] 2019-08-07 09:07:00 === Open database OK.
[INF] 2019-08-07 09:07:00 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:07:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780003. }
[INF] 2019-08-07 09:07:00 === Open database OK.
[INF] 2019-08-07 09:07:00 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:07:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780003. }
[INF] 2019-08-07 09:07:00 === Open database OK.
[INF] 2019-08-07 09:07:00 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:07:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780003. }
[INF] 2019-08-07 09:07:46 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:08:10 === Open database OK.
[INF] 2019-08-07 09:08:10 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:08:10 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:08:24 === Open database OK.
[INF] 2019-08-07 09:08:24 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:08:24 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:08:24 === Open database OK.
[INF] 2019-08-07 09:08:24 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780004. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:08:24. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:08:25 === Open database OK.
[INF] 2019-08-07 09:08:25 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:08:25 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:08:25 === Open database OK.
[INF] 2019-08-07 09:08:25 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:08:25 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780002. }
[INF] 2019-08-07 09:08:25 === Open database OK.
[INF] 2019-08-07 09:08:25 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780004. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780002. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:08:25. }
[INF] 2019-08-07 09:08:32 === Open database OK.
[INF] 2019-08-07 09:08:32 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780004' and carton_id = 'HNIDEC201980780002']
[INF] 2019-08-07 09:08:32 === Open database OK.
[INF] 2019-08-07 09:08:32 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:08:32 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780004. }
[INF] 2019-08-07 09:08:32 === Open database OK.
[INF] 2019-08-07 09:08:32 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:08:32 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780004. }
[INF] 2019-08-07 09:08:32 === Open database OK.
[INF] 2019-08-07 09:08:32 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:08:32 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780004. }
[INF] 2019-08-07 09:08:48 === Open database OK.
[INF] 2019-08-07 09:08:48 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:08:48 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780004. }
[INF] 2019-08-07 09:08:48 === Open database OK.
[INF] 2019-08-07 09:08:48 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:08:48 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780004. }
[INF] 2019-08-07 09:08:48 === Open database OK.
[INF] 2019-08-07 09:08:48 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:08:48 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780004. }
[INF] 2019-08-07 09:09:45 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:09:47 === Open database OK.
[INF] 2019-08-07 09:09:47 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:09:47 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:09:49 === Open database OK.
[INF] 2019-08-07 09:09:49 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:09:49 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:09:49 === Open database OK.
[INF] 2019-08-07 09:09:49 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780003. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:09:49. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:09:52 === Open database OK.
[INF] 2019-08-07 09:09:52 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 09:09:52 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B3. }
[INF] 2019-08-07 09:09:52 === Open database OK.
[INF] 2019-08-07 09:09:52 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:09:52 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B3. }
[INF] 2019-08-07 09:09:52 === Open database OK.
[INF] 2019-08-07 09:09:52 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780003. },{ParamName:@trayid, DbType:AnsiString, Value:B3. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:09:52. }
[INF] 2019-08-07 09:10:12 === Open database OK.
[INF] 2019-08-07 09:10:12 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780003' and tray_id = 'B3']
[INF] 2019-08-07 09:10:12 === Open database OK.
[INF] 2019-08-07 09:10:12 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 09:10:12 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:12 === Open database OK.
[INF] 2019-08-07 09:10:12 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:10:12 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:12 === Open database OK.
[INF] 2019-08-07 09:10:12 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 09:10:12 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:22 === Open database OK.
[INF] 2019-08-07 09:10:22 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 09:10:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:22 === Open database OK.
[INF] 2019-08-07 09:10:22 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:10:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:22 === Open database OK.
[INF] 2019-08-07 09:10:22 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 09:10:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:26 === Open database OK.
[INF] 2019-08-07 09:10:26 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780003. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:10:26. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:10:29 === Open database OK.
[INF] 2019-08-07 09:10:29 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:10:29 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:carton. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:10:29 === Open database OK.
[INF] 2019-08-07 09:10:29 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780003. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:10:29. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:10:30 === Open database OK.
[INF] 2019-08-07 09:10:30 === Execute SQL:select count(pack_id) as qty from pnt_pack where pack_id = @code and status = 1
[INF] 2019-08-07 09:10:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:30 === Open database OK.
[INF] 2019-08-07 09:10:30 === Execute SQL:select count(pack_id) as qty from pnt_carton where pack_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:10:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780003. }
[INF] 2019-08-07 09:10:30 === Open database OK.
[INF] 2019-08-07 09:10:30 === Execute SQL:insert into pnt_carton values (@cartonid, @packid, @pdate, 0) Params:{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780003. },{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780003. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:10:30. }
[INF] 2019-08-07 09:10:34 === Open database OK.
[INF] 2019-08-07 09:10:34 === Execute SQLS : [update pnt_carton set status = 1 where carton_id = 'HNIDEC201980780003' and pack_id = 'BNIDEC201980780003']
[INF] 2019-08-07 09:10:34 === Open database OK.
[INF] 2019-08-07 09:10:34 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 09:10:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:34 === Open database OK.
[INF] 2019-08-07 09:10:34 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:10:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:34 === Open database OK.
[INF] 2019-08-07 09:10:34 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 09:10:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:44 === Open database OK.
[INF] 2019-08-07 09:10:44 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 09:10:44 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:44 === Open database OK.
[INF] 2019-08-07 09:10:44 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:10:44 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:44 === Open database OK.
[INF] 2019-08-07 09:10:44 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 09:10:44 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:51 === Open database OK.
[INF] 2019-08-07 09:10:51 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780003. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:10:51. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:10:54 === Open database OK.
[INF] 2019-08-07 09:10:54 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:10:54 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:10:54 === Open database OK.
[INF] 2019-08-07 09:10:54 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780005. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:10:54. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:10:55 === Open database OK.
[INF] 2019-08-07 09:10:55 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:10:55 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:55 === Open database OK.
[INF] 2019-08-07 09:10:55 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:10:55 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780003. }
[INF] 2019-08-07 09:10:55 === Open database OK.
[INF] 2019-08-07 09:10:55 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780005. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780003. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:10:55. }
[INF] 2019-08-07 09:11:11 === Open database OK.
[INF] 2019-08-07 09:11:11 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780005' and carton_id = 'HNIDEC201980780003']
[INF] 2019-08-07 09:11:11 === Open database OK.
[INF] 2019-08-07 09:11:11 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:11:11 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780005. }
[INF] 2019-08-07 09:11:11 === Open database OK.
[INF] 2019-08-07 09:11:11 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:11:11 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780005. }
[INF] 2019-08-07 09:11:11 === Open database OK.
[INF] 2019-08-07 09:11:11 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:11:11 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780005. }
[INF] 2019-08-07 09:11:37 === Open database OK.
[INF] 2019-08-07 09:11:37 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:11:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780005. }
[INF] 2019-08-07 09:11:37 === Open database OK.
[INF] 2019-08-07 09:11:37 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:11:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780005. }
[INF] 2019-08-07 09:11:37 === Open database OK.
[INF] 2019-08-07 09:11:37 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:11:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780005. }
[INF] 2019-08-07 09:14:46 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:14:47 === Open database OK.
[INF] 2019-08-07 09:14:47 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:14:47 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:15:07 === Open database OK.
[INF] 2019-08-07 09:15:07 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:15:07 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:15:07 === Open database OK.
[INF] 2019-08-07 09:15:07 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780004. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:15:07. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:15:10 === Open database OK.
[INF] 2019-08-07 09:15:10 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 09:15:10 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B4. }
[INF] 2019-08-07 09:15:10 === Open database OK.
[INF] 2019-08-07 09:15:10 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:15:10 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:B4. }
[INF] 2019-08-07 09:15:10 === Open database OK.
[INF] 2019-08-07 09:15:10 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780004. },{ParamName:@trayid, DbType:AnsiString, Value:B4. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:15:10. }
[INF] 2019-08-07 09:15:15 === Open database OK.
[INF] 2019-08-07 09:15:15 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780004' and tray_id = 'B4']
[INF] 2019-08-07 09:15:15 === Open database OK.
[INF] 2019-08-07 09:15:15 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 09:15:15 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:15 === Open database OK.
[INF] 2019-08-07 09:15:15 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:15:15 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:15 === Open database OK.
[INF] 2019-08-07 09:15:15 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 09:15:15 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:23 === Open database OK.
[INF] 2019-08-07 09:15:23 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 09:15:23 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:23 === Open database OK.
[INF] 2019-08-07 09:15:23 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:15:23 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:23 === Open database OK.
[INF] 2019-08-07 09:15:23 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 09:15:23 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:26 === Open database OK.
[INF] 2019-08-07 09:15:26 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780004. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:15:26. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:15:29 === Open database OK.
[INF] 2019-08-07 09:15:29 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:15:29 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:carton. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:15:29 === Open database OK.
[INF] 2019-08-07 09:15:29 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:15:29. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:15:30 === Open database OK.
[INF] 2019-08-07 09:15:30 === Execute SQL:select count(pack_id) as qty from pnt_pack where pack_id = @code and status = 1
[INF] 2019-08-07 09:15:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:30 === Open database OK.
[INF] 2019-08-07 09:15:30 === Execute SQL:select count(pack_id) as qty from pnt_carton where pack_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:15:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780004. }
[INF] 2019-08-07 09:15:30 === Open database OK.
[INF] 2019-08-07 09:15:30 === Execute SQL:insert into pnt_carton values (@cartonid, @packid, @pdate, 0) Params:{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:15:30. }
[INF] 2019-08-07 09:15:35 === Open database OK.
[INF] 2019-08-07 09:15:35 === Execute SQLS : [update pnt_carton set status = 1 where carton_id = 'HNIDEC201980780004' and pack_id = 'BNIDEC201980780004']
[INF] 2019-08-07 09:15:35 === Open database OK.
[INF] 2019-08-07 09:15:35 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 09:15:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:35 === Open database OK.
[INF] 2019-08-07 09:15:35 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:15:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:35 === Open database OK.
[INF] 2019-08-07 09:15:35 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 09:15:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:40 === Open database OK.
[INF] 2019-08-07 09:15:40 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 09:15:40 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:40 === Open database OK.
[INF] 2019-08-07 09:15:40 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:15:40 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:40 === Open database OK.
[INF] 2019-08-07 09:15:40 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 09:15:40 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:45 === Open database OK.
[INF] 2019-08-07 09:15:45 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:15:45. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:15:47 === Open database OK.
[INF] 2019-08-07 09:15:47 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:15:47 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:15:47 === Open database OK.
[INF] 2019-08-07 09:15:47 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780006. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:15:47. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:15:50 === Open database OK.
[INF] 2019-08-07 09:15:50 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:15:50 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:50 === Open database OK.
[INF] 2019-08-07 09:15:50 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:15:50 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:15:50 === Open database OK.
[INF] 2019-08-07 09:15:50 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780006. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:15:50. }
[INF] 2019-08-07 09:15:53 === Open database OK.
[INF] 2019-08-07 09:15:53 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780006' and carton_id = 'HNIDEC201980780004']
[INF] 2019-08-07 09:15:53 === Open database OK.
[INF] 2019-08-07 09:15:53 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:15:53 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780006. }
[INF] 2019-08-07 09:15:53 === Open database OK.
[INF] 2019-08-07 09:15:53 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:15:53 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780006. }
[INF] 2019-08-07 09:15:53 === Open database OK.
[INF] 2019-08-07 09:15:53 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:15:53 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780006. }
[INF] 2019-08-07 09:16:05 === Open database OK.
[INF] 2019-08-07 09:16:05 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:16:05 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780006. }
[INF] 2019-08-07 09:16:05 === Open database OK.
[INF] 2019-08-07 09:16:05 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:16:05 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780006. }
[INF] 2019-08-07 09:16:05 === Open database OK.
[INF] 2019-08-07 09:16:05 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:16:05 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780006. }
[INF] 2019-08-07 09:21:39 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:21:58 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:22:00 === Open database OK.
[INF] 2019-08-07 09:22:00 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:22:00 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:22:02 === Open database OK.
[INF] 2019-08-07 09:22:02 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:22:02 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:22:02 === Open database OK.
[INF] 2019-08-07 09:22:02 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780007. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:22:02. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:22:18 === Open database OK.
[INF] 2019-08-07 09:22:18 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:22:18 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:22:18 === Open database OK.
[INF] 2019-08-07 09:22:18 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:22:18 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:22:18 === Open database OK.
[INF] 2019-08-07 09:22:18 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780007. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:22:18. }
[INF] 2019-08-07 09:22:21 === Open database OK.
[INF] 2019-08-07 09:22:21 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780007' and carton_id = 'HNIDEC201980780004']
[INF] 2019-08-07 09:22:21 === Open database OK.
[INF] 2019-08-07 09:22:21 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:22:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780007. }
[INF] 2019-08-07 09:22:21 === Open database OK.
[INF] 2019-08-07 09:22:21 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:22:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780007. }
[INF] 2019-08-07 09:22:21 === Open database OK.
[INF] 2019-08-07 09:22:21 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:22:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780007. }
[INF] 2019-08-07 09:22:34 === Open database OK.
[INF] 2019-08-07 09:22:34 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:22:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780007. }
[INF] 2019-08-07 09:22:34 === Open database OK.
[INF] 2019-08-07 09:22:34 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:22:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780007. }
[INF] 2019-08-07 09:22:34 === Open database OK.
[INF] 2019-08-07 09:22:34 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:22:34 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780007. }
[INF] 2019-08-07 09:23:49 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:23:50 === Open database OK.
[INF] 2019-08-07 09:23:50 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:23:50 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:23:58 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 09:23:59 === Open database OK.
[INF] 2019-08-07 09:23:59 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 09:23:59 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 09:24:01 === Open database OK.
[INF] 2019-08-07 09:24:01 === Execute Function:fn_apply_no
[INF] 2019-08-07 09:24:01 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 09:24:01 === Open database OK.
[INF] 2019-08-07 09:24:01 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780008. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 9:24:01. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 09:24:16 === Open database OK.
[INF] 2019-08-07 09:24:16 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 09:24:16 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:24:16 === Open database OK.
[INF] 2019-08-07 09:24:16 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 09:24:16 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 09:24:16 === Open database OK.
[INF] 2019-08-07 09:24:16 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780008. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 9:24:16. }
[INF] 2019-08-07 09:24:22 === Open database OK.
[INF] 2019-08-07 09:24:22 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780008' and carton_id = 'HNIDEC201980780004']
[INF] 2019-08-07 09:24:22 === Open database OK.
[INF] 2019-08-07 09:24:22 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:24:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780008. }
[INF] 2019-08-07 09:24:22 === Open database OK.
[INF] 2019-08-07 09:24:22 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:24:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780008. }
[INF] 2019-08-07 09:24:22 === Open database OK.
[INF] 2019-08-07 09:24:22 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:24:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780008. }
[INF] 2019-08-07 09:24:33 === Open database OK.
[INF] 2019-08-07 09:24:33 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 09:24:33 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780008. }
[INF] 2019-08-07 09:24:33 === Open database OK.
[INF] 2019-08-07 09:24:33 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 09:24:33 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780008. }
[INF] 2019-08-07 09:24:33 === Open database OK.
[INF] 2019-08-07 09:24:33 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 09:24:33 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780008. }
[INF] 2019-08-07 10:48:10 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 10:48:12 === Open database OK.
[INF] 2019-08-07 10:48:12 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 10:48:12 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 10:50:33 === Open database OK.
[INF] 2019-08-07 10:50:33 === Execute Function:fn_apply_no
[INF] 2019-08-07 10:50:33 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 10:50:33 === Open database OK.
[INF] 2019-08-07 10:50:33 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC201980780009. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 10:50:33. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 10:50:35 === Open database OK.
[INF] 2019-08-07 10:50:35 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 10:50:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 10:50:35 === Open database OK.
[INF] 2019-08-07 10:50:35 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 10:50:35 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 10:50:35 === Open database OK.
[INF] 2019-08-07 10:50:35 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC201980780009. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 10:50:35. }
[INF] 2019-08-07 10:50:40 === Open database OK.
[INF] 2019-08-07 10:50:40 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC201980780009' and carton_id = 'HNIDEC201980780004']
[INF] 2019-08-07 10:50:40 === Open database OK.
[INF] 2019-08-07 10:50:40 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 10:50:40 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780009. }
[INF] 2019-08-07 10:50:40 === Open database OK.
[INF] 2019-08-07 10:50:40 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 10:50:40 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780009. }
[INF] 2019-08-07 10:50:40 === Open database OK.
[INF] 2019-08-07 10:50:40 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 10:50:40 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780009. }
[INF] 2019-08-07 10:50:53 === Open database OK.
[INF] 2019-08-07 10:50:53 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 10:50:53 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780009. }
[INF] 2019-08-07 10:50:53 === Open database OK.
[INF] 2019-08-07 10:50:53 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 10:50:53 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780009. }
[INF] 2019-08-07 10:50:53 === Open database OK.
[INF] 2019-08-07 10:50:53 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 10:50:53 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC201980780009. }
[INF] 2019-08-07 10:54:22 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 10:54:31 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 10:54:32 === Open database OK.
[INF] 2019-08-07 10:54:32 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 10:54:32 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 10:54:36 === Open database OK.
[INF] 2019-08-07 10:54:36 === Execute Function:fn_apply_no
[INF] 2019-08-07 10:54:36 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 10:54:36 === Open database OK.
[INF] 2019-08-07 10:54:36 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000A. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 10:54:36. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 10:54:50 === Open database OK.
[INF] 2019-08-07 10:54:50 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 10:54:50 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 10:54:50 === Open database OK.
[INF] 2019-08-07 10:54:50 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 10:54:50 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 10:54:50 === Open database OK.
[INF] 2019-08-07 10:54:50 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC20198078000A. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 10:54:50. }
[INF] 2019-08-07 10:58:24 === Open database OK.
[INF] 2019-08-07 10:58:24 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 10:58:24 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000A. }
[INF] 2019-08-07 10:58:24 === Open database OK.
[INF] 2019-08-07 10:58:24 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 10:58:24 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000A. }
[INF] 2019-08-07 10:58:24 === Open database OK.
[INF] 2019-08-07 10:58:24 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 10:58:24 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000A. }
[INF] 2019-08-07 11:00:05 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 11:00:08 === Open database OK.
[INF] 2019-08-07 11:00:08 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 11:00:08 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 11:00:16 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 11:00:21 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 11:05:02 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 11:05:04 === Open database OK.
[INF] 2019-08-07 11:05:04 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 11:05:04 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:07:37 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:07:38 === Open database OK.
[INF] 2019-08-07 12:07:38 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:07:38 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:07:41 === Open database OK.
[INF] 2019-08-07 12:07:41 === Execute Function:fn_apply_no
[INF] 2019-08-07 12:07:41 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 12:07:41 === Open database OK.
[INF] 2019-08-07 12:07:41 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000N. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 12:07:41. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 12:07:58 === Open database OK.
[INF] 2019-08-07 12:07:58 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 12:07:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:07:58 === Open database OK.
[INF] 2019-08-07 12:07:58 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 12:07:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:07:58 === Open database OK.
[INF] 2019-08-07 12:07:58 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC20198078000N. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 12:07:58. }
[INF] 2019-08-07 12:08:00 === Open database OK.
[INF] 2019-08-07 12:08:00 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC20198078000N' and carton_id = 'HNIDEC201980780004']
[INF] 2019-08-07 12:08:00 === Open database OK.
[INF] 2019-08-07 12:08:01 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 12:08:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000N. }
[INF] 2019-08-07 12:08:01 === Open database OK.
[INF] 2019-08-07 12:08:01 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 12:08:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000N. }
[INF] 2019-08-07 12:08:01 === Open database OK.
[INF] 2019-08-07 12:08:01 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 12:08:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000N. }
[INF] 2019-08-07 12:08:11 === Open database OK.
[INF] 2019-08-07 12:08:11 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 12:08:11 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000N. }
[INF] 2019-08-07 12:08:11 === Open database OK.
[INF] 2019-08-07 12:08:11 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 12:08:11 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000N. }
[INF] 2019-08-07 12:08:11 === Open database OK.
[INF] 2019-08-07 12:08:11 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 12:08:11 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000N. }
[INF] 2019-08-07 12:08:25 === Open database OK.
[INF] 2019-08-07 12:08:25 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 12:08:25 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:08:28 === Open database OK.
[INF] 2019-08-07 12:08:28 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000N. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 12:08:28. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:09:02 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:09:03 === Open database OK.
[INF] 2019-08-07 12:09:03 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:09:03 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:09:06 === Open database OK.
[INF] 2019-08-07 12:09:06 === Execute SQL:select name, pcode, ccode, p_date, status from vw_packing where pcode = @pcode and status = 1 order by ccode
[INF] 2019-08-07 12:09:06 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:09:09 === Open database OK.
[INF] 2019-08-07 12:09:09 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 12:09:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:09:09 === Open database OK.
[INF] 2019-08-07 12:09:09 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 12:09:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:09:09 === Open database OK.
[INF] 2019-08-07 12:09:09 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 12:09:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:09:09 === Open database OK.
[INF] 2019-08-07 12:09:09 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 12:09:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:09:09 === Open database OK.
[INF] 2019-08-07 12:09:09 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 12:09:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:09:16 === Open database OK.
[INF] 2019-08-07 12:09:16 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 12:09:16. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:09:51 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:09:51 === Open database OK.
[INF] 2019-08-07 12:09:51 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:09:51 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:12:08 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:12:09 === Open database OK.
[INF] 2019-08-07 12:12:09 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:12:09 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:13:21 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:13:22 === Open database OK.
[INF] 2019-08-07 12:13:22 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:13:22 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:13:31 === Open database OK.
[INF] 2019-08-07 12:13:31 === Execute Function:fn_apply_no
[INF] 2019-08-07 12:13:31 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 12:13:31 === Open database OK.
[INF] 2019-08-07 12:13:31 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000O. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 12:13:31. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 12:13:38 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:13:39 === Open database OK.
[INF] 2019-08-07 12:13:39 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:13:39 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:13:51 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 12:13:52 === Open database OK.
[INF] 2019-08-07 12:13:52 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 12:13:52 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 12:14:05 === Open database OK.
[INF] 2019-08-07 12:14:05 === Execute Function:fn_apply_no
[INF] 2019-08-07 12:14:05 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 12:14:05 === Open database OK.
[INF] 2019-08-07 12:14:05 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000P. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 12:14:05. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 12:14:06 === Open database OK.
[INF] 2019-08-07 12:14:06 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 12:14:06 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:14:06 === Open database OK.
[INF] 2019-08-07 12:14:06 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 12:14:06 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:14:06 === Open database OK.
[INF] 2019-08-07 12:14:06 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC20198078000P. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780004. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 12:14:06. }
[INF] 2019-08-07 12:14:09 === Open database OK.
[INF] 2019-08-07 12:14:09 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC20198078000P' and carton_id = 'HNIDEC201980780004']
[INF] 2019-08-07 12:14:09 === Open database OK.
[INF] 2019-08-07 12:14:09 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 12:14:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000P. }
[INF] 2019-08-07 12:14:09 === Open database OK.
[INF] 2019-08-07 12:14:09 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 12:14:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000P. }
[INF] 2019-08-07 12:14:09 === Open database OK.
[INF] 2019-08-07 12:14:09 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 12:14:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000P. }
[INF] 2019-08-07 12:14:41 === Open database OK.
[INF] 2019-08-07 12:14:41 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 12:14:41 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000P. }
[INF] 2019-08-07 12:14:41 === Open database OK.
[INF] 2019-08-07 12:14:41 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 12:14:41 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000P. }
[INF] 2019-08-07 12:14:41 === Open database OK.
[INF] 2019-08-07 12:14:41 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 12:14:41 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000P. }
[INF] 2019-08-07 12:16:42 === Open database OK.
[INF] 2019-08-07 12:16:42 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 12:16:42 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780004. }
[INF] 2019-08-07 12:16:52 === Open database OK.
[INF] 2019-08-07 12:16:52 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000P. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 12:16:52. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 14:18:14 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 14:18:15 === Open database OK.
[INF] 2019-08-07 14:18:15 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 14:18:15 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 14:25:24 === Open database OK.
[INF] 2019-08-07 14:25:24 === Execute Function:fn_apply_no
[INF] 2019-08-07 14:25:24 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 14:25:24 === Open database OK.
[INF] 2019-08-07 14:25:24 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780005. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 14:25:24. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 14:25:28 === Open database OK.
[INF] 2019-08-07 14:25:28 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 14:25:28 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:A2. }
[INF] 2019-08-07 14:25:28 === Open database OK.
[INF] 2019-08-07 14:25:28 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 14:25:28 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:A2. }
[INF] 2019-08-07 14:26:36 === Open database OK.
[INF] 2019-08-07 14:26:36 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 14:26:36 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:AA. }
[INF] 2019-08-07 14:26:36 === Open database OK.
[INF] 2019-08-07 14:26:36 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 14:26:36 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:AA. }
[INF] 2019-08-07 14:26:36 === Open database OK.
[INF] 2019-08-07 14:26:36 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780005. },{ParamName:@trayid, DbType:AnsiString, Value:AA. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 14:26:36. }
[INF] 2019-08-07 14:26:47 === Open database OK.
[INF] 2019-08-07 14:26:47 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780005' and tray_id = 'AA']
[INF] 2019-08-07 14:26:47 === Open database OK.
[INF] 2019-08-07 14:26:47 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 14:26:47 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:26:47 === Open database OK.
[INF] 2019-08-07 14:26:47 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 14:26:47 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:26:47 === Open database OK.
[INF] 2019-08-07 14:26:47 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 14:26:47 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:27:09 === Open database OK.
[INF] 2019-08-07 14:27:09 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 14:27:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:27:09 === Open database OK.
[INF] 2019-08-07 14:27:09 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 14:27:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:27:09 === Open database OK.
[INF] 2019-08-07 14:27:09 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 14:27:09 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:27:12 === Open database OK.
[INF] 2019-08-07 14:27:12 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780005. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 14:27:12. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 14:27:15 === Open database OK.
[INF] 2019-08-07 14:27:15 === Execute Function:fn_apply_no
[INF] 2019-08-07 14:27:15 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:carton. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 14:27:15 === Open database OK.
[INF] 2019-08-07 14:27:15 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780005. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 14:27:15. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 14:27:16 === Open database OK.
[INF] 2019-08-07 14:27:16 === Execute SQL:select count(pack_id) as qty from pnt_pack where pack_id = @code and status = 1
[INF] 2019-08-07 14:27:16 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:27:16 === Open database OK.
[INF] 2019-08-07 14:27:17 === Execute SQL:select count(pack_id) as qty from pnt_carton where pack_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 14:27:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780005. }
[INF] 2019-08-07 14:27:17 === Open database OK.
[INF] 2019-08-07 14:27:17 === Execute SQL:insert into pnt_carton values (@cartonid, @packid, @pdate, 0) Params:{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780005. },{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780005. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 14:27:17. }
[INF] 2019-08-07 14:27:22 === Open database OK.
[INF] 2019-08-07 14:27:22 === Execute SQLS : [update pnt_carton set status = 1 where carton_id = 'HNIDEC201980780005' and pack_id = 'BNIDEC201980780005']
[INF] 2019-08-07 14:27:22 === Open database OK.
[INF] 2019-08-07 14:27:22 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 14:27:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:22 === Open database OK.
[INF] 2019-08-07 14:27:22 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 14:27:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:22 === Open database OK.
[INF] 2019-08-07 14:27:22 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 14:27:22 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:36 === Open database OK.
[INF] 2019-08-07 14:27:36 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 14:27:36 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:36 === Open database OK.
[INF] 2019-08-07 14:27:36 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 14:27:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:37 === Open database OK.
[INF] 2019-08-07 14:27:37 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 14:27:37 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:43 === Open database OK.
[INF] 2019-08-07 14:27:43 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780005. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 14:27:43. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 14:27:46 === Open database OK.
[INF] 2019-08-07 14:27:46 === Execute Function:fn_apply_no
[INF] 2019-08-07 14:27:46 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 14:27:46 === Open database OK.
[INF] 2019-08-07 14:27:46 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000Q. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 14:27:46. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 14:27:49 === Open database OK.
[INF] 2019-08-07 14:27:49 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 14:27:49 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:49 === Open database OK.
[INF] 2019-08-07 14:27:49 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 14:27:49 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:27:49 === Open database OK.
[INF] 2019-08-07 14:27:49 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC20198078000Q. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780005. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 14:27:49. }
[INF] 2019-08-07 14:27:54 === Open database OK.
[INF] 2019-08-07 14:27:54 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC20198078000Q' and carton_id = 'HNIDEC201980780005']
[INF] 2019-08-07 14:27:54 === Open database OK.
[INF] 2019-08-07 14:27:54 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 14:27:54 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000Q. }
[INF] 2019-08-07 14:27:54 === Open database OK.
[INF] 2019-08-07 14:27:54 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 14:27:54 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000Q. }
[INF] 2019-08-07 14:27:54 === Open database OK.
[INF] 2019-08-07 14:27:54 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 14:27:54 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000Q. }
[INF] 2019-08-07 14:28:21 === Open database OK.
[INF] 2019-08-07 14:28:21 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 14:28:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000Q. }
[INF] 2019-08-07 14:28:21 === Open database OK.
[INF] 2019-08-07 14:28:21 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 14:28:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000Q. }
[INF] 2019-08-07 14:28:21 === Open database OK.
[INF] 2019-08-07 14:28:21 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 14:28:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000Q. }
[INF] 2019-08-07 14:28:41 === Open database OK.
[INF] 2019-08-07 14:28:41 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 14:28:41 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780005. }
[INF] 2019-08-07 14:28:46 === Open database OK.
[INF] 2019-08-07 14:28:46 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000Q. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 14:28:46. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 15:10:54 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 15:10:55 === Open database OK.
[INF] 2019-08-07 15:10:55 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 15:10:55 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:22:28 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:22:36 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:22:37 === Open database OK.
[INF] 2019-08-07 16:22:37 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:22:37 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:23:09 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:23:11 === Open database OK.
[INF] 2019-08-07 16:23:11 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:23:11 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:24:03 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:24:04 === Open database OK.
[INF] 2019-08-07 16:24:04 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:24:04 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:28:29 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:28:30 === Open database OK.
[INF] 2019-08-07 16:28:30 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:28:30 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:31:41 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:31:50 === Open database OK.
[INF] 2019-08-07 16:31:50 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:31:50 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:33:46 === Create database NIDEC category:PostgreSQL
[ERR] 2019-08-07 16:34:02 === Not set system database.
[ERR] 2019-08-07 16:34:07 === Not set system database.
[ERR] 2019-08-07 16:34:27 === Not set system database.
[ERR] 2019-08-07 16:34:37 === Not set system database.
[ERR] 2019-08-07 16:35:02 === Not set system database.
[ERR] 2019-08-07 16:35:05 === Not set system database.
[ERR] 2019-08-07 16:35:23 === Not found database creator by name NIDEC
[ERR] 2019-08-07 16:35:39 === Not found database creator by name NIDEC
[INF] 2019-08-07 16:35:45 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:35:46 === Open database OK.
[INF] 2019-08-07 16:35:46 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:35:46 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:35:59 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:36:01 === Open database OK.
[INF] 2019-08-07 16:36:01 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:36:01 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[ERR] 2019-08-07 16:36:09 === Not set system database.
[ERR] 2019-08-07 16:40:33 === Not set system database.
[INF] 2019-08-07 16:40:49 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:40:50 === Open database OK.
[INF] 2019-08-07 16:40:50 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:40:50 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:41:34 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:41:40 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 16:41:41 === Open database OK.
[INF] 2019-08-07 16:41:41 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 16:41:41 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 16:41:56 === Open database OK.
[INF] 2019-08-07 16:41:56 === Execute Function:fn_apply_no
[INF] 2019-08-07 16:41:56 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 16:41:56 === Open database OK.
[INF] 2019-08-07 16:41:56 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780006. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 16:41:56. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 16:58:04 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 17:06:53 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 17:06:53 === Open database OK.
[INF] 2019-08-07 17:06:53 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 17:06:53 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 17:09:27 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 17:09:28 === Open database OK.
[INF] 2019-08-07 17:09:28 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 17:09:28 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:08:27 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 19:08:28 === Open database OK.
[INF] 2019-08-07 19:08:28 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 19:08:28 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:14:08 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 19:14:09 === Open database OK.
[INF] 2019-08-07 19:14:09 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 19:14:09 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:20:02 === Open database OK.
[INF] 2019-08-07 19:20:02 === Execute Function:fn_apply_no
[INF] 2019-08-07 19:20:02 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 19:20:02 === Open database OK.
[INF] 2019-08-07 19:20:02 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780007. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:20:02. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 19:20:08 === Open database OK.
[INF] 2019-08-07 19:20:08 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 19:20:08 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:OB. }
[INF] 2019-08-07 19:20:08 === Open database OK.
[INF] 2019-08-07 19:20:08 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 19:20:08 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:OB. }
[INF] 2019-08-07 19:20:08 === Open database OK.
[INF] 2019-08-07 19:20:08 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780007. },{ParamName:@trayid, DbType:AnsiString, Value:OB. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 19:20:08. }
[INF] 2019-08-07 19:26:30 === Open database OK.
[INF] 2019-08-07 19:26:30 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780007' and tray_id = 'OB']
[INF] 2019-08-07 19:26:30 === Open database OK.
[INF] 2019-08-07 19:26:30 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 19:26:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:30 === Open database OK.
[INF] 2019-08-07 19:26:30 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:26:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:30 === Open database OK.
[INF] 2019-08-07 19:26:30 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 19:26:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:42 === Open database OK.
[INF] 2019-08-07 19:26:42 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 19:26:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:42 === Open database OK.
[INF] 2019-08-07 19:26:42 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:26:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:42 === Open database OK.
[INF] 2019-08-07 19:26:42 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 19:26:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:45 === Open database OK.
[INF] 2019-08-07 19:26:45 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780007. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:26:45. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:26:54 === Open database OK.
[INF] 2019-08-07 19:26:54 === Execute Function:fn_apply_no
[INF] 2019-08-07 19:26:54 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:carton. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 19:26:54 === Open database OK.
[INF] 2019-08-07 19:26:54 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780006. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:26:54. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 19:26:56 === Open database OK.
[INF] 2019-08-07 19:26:56 === Execute SQL:select count(pack_id) as qty from pnt_pack where pack_id = @code and status = 1
[INF] 2019-08-07 19:26:56 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:56 === Open database OK.
[INF] 2019-08-07 19:26:56 === Execute SQL:select count(pack_id) as qty from pnt_carton where pack_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 19:26:56 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:26:56 === Open database OK.
[INF] 2019-08-07 19:26:56 === Execute SQL:insert into pnt_carton values (@cartonid, @packid, @pdate, 0) Params:{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780006. },{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780007. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 19:26:56. }
[INF] 2019-08-07 19:27:02 === Open database OK.
[INF] 2019-08-07 19:27:02 === Execute SQLS : [update pnt_carton set status = 1 where carton_id = 'HNIDEC201980780006' and pack_id = 'BNIDEC201980780007']
[INF] 2019-08-07 19:27:02 === Open database OK.
[INF] 2019-08-07 19:27:02 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 19:27:02 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:02 === Open database OK.
[INF] 2019-08-07 19:27:02 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:27:02 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:02 === Open database OK.
[INF] 2019-08-07 19:27:02 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 19:27:02 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:21 === Open database OK.
[INF] 2019-08-07 19:27:21 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 19:27:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:21 === Open database OK.
[INF] 2019-08-07 19:27:21 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:27:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:21 === Open database OK.
[INF] 2019-08-07 19:27:21 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 19:27:21 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:26 === Open database OK.
[INF] 2019-08-07 19:27:26 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780006. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:27:26. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:27:29 === Open database OK.
[INF] 2019-08-07 19:27:29 === Execute Function:fn_apply_no
[INF] 2019-08-07 19:27:29 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pallet. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 19:27:29 === Open database OK.
[INF] 2019-08-07 19:27:29 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000R. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:27:29. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 19:27:30 === Open database OK.
[INF] 2019-08-07 19:27:30 === Execute SQL:select count(carton_id) as qty from pnt_carton where carton_id = @code and status = 1
[INF] 2019-08-07 19:27:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:30 === Open database OK.
[INF] 2019-08-07 19:27:30 === Execute SQL:select count(carton_id) as qty from pnt_pallet where carton_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 19:27:30 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:27:30 === Open database OK.
[INF] 2019-08-07 19:27:30 === Execute SQL:insert into pnt_pallet values (@palletid, @cartonid, @pdate, 0) Params:{ParamName:@palletid, DbType:AnsiString, Value:PNIDEC20198078000R. },{ParamName:@cartonid, DbType:AnsiString, Value:HNIDEC201980780006. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 19:27:30. }
[INF] 2019-08-07 19:27:43 === Open database OK.
[INF] 2019-08-07 19:27:43 === Execute SQLS : [update pnt_pallet set status = 1 where pallet_id = 'PNIDEC20198078000R' and carton_id = 'HNIDEC201980780006']
[INF] 2019-08-07 19:27:43 === Open database OK.
[INF] 2019-08-07 19:27:43 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 19:27:43 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:27:43 === Open database OK.
[INF] 2019-08-07 19:27:43 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:27:43 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:27:43 === Open database OK.
[INF] 2019-08-07 19:27:43 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 19:27:43 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:27:58 === Open database OK.
[INF] 2019-08-07 19:27:58 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 19:27:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:27:58 === Open database OK.
[INF] 2019-08-07 19:27:58 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:27:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:27:58 === Open database OK.
[INF] 2019-08-07 19:27:58 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 19:27:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:28:14 === Open database OK.
[INF] 2019-08-07 19:28:15 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 19:28:15 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:28:20 === Open database OK.
[INF] 2019-08-07 19:28:20 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000R. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:28:20. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:32:37 === Open database OK.
[INF] 2019-08-07 19:32:37 === Execute SQL:select name, pcode, ccode, p_date, status from vw_packing where pcode = @pcode and status = 1 order by ccode
[INF] 2019-08-07 19:32:37 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:32:42 === Open database OK.
[INF] 2019-08-07 19:32:42 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 19:32:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:32:42 === Open database OK.
[INF] 2019-08-07 19:32:42 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:32:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:32:42 === Open database OK.
[INF] 2019-08-07 19:32:42 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 19:32:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:32:42 === Open database OK.
[INF] 2019-08-07 19:32:42 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:32:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:32:42 === Open database OK.
[INF] 2019-08-07 19:32:42 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 19:32:42 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780007. }
[INF] 2019-08-07 19:32:57 === Open database OK.
[INF] 2019-08-07 19:32:57 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780007. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:32:57. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:33:14 === Open database OK.
[INF] 2019-08-07 19:33:14 === Execute SQL:select name, pcode, ccode, p_date, status from vw_packing where pcode = @pcode and status = 1 order by ccode
[INF] 2019-08-07 19:33:14 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:33:17 === Open database OK.
[INF] 2019-08-07 19:33:17 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c where c.pack_id = p.pack_id and p.tray_id = m.tray_id and c.carton_id = @code and (p.status = 1 and c.status = 1)
[INF] 2019-08-07 19:33:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:33:17 === Open database OK.
[INF] 2019-08-07 19:33:17 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:33:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:33:17 === Open database OK.
[INF] 2019-08-07 19:33:17 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 19:33:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:33:17 === Open database OK.
[INF] 2019-08-07 19:33:17 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:33:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:33:17 === Open database OK.
[INF] 2019-08-07 19:33:17 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id where carton_id =  @code 
[INF] 2019-08-07 19:33:17 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:33:42 === Open database OK.
[INF] 2019-08-07 19:33:42 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:HNIDEC201980780006. },{ParamName:@type, DbType:AnsiString, Value:carton. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:33:42. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:33:57 === Open database OK.
[INF] 2019-08-07 19:33:57 === Execute SQL:select name, pcode, ccode, p_date, status from vw_packing where pcode = @pcode and status = 1 order by ccode
[INF] 2019-08-07 19:33:57 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:34:00 === Open database OK.
[INF] 2019-08-07 19:34:00 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p, pnt_carton c, pnt_pallet l where l.carton_id = c.carton_id and c.pack_id = p.pack_id and p.tray_id = m.tray_id and l.pallet_id = @code and (p.status = 1 and c.status = 1 and l.status = 1)
[INF] 2019-08-07 19:34:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:34:00 === Open database OK.
[INF] 2019-08-07 19:34:00 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:34:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:34:00 === Open database OK.
[INF] 2019-08-07 19:34:00 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 19:34:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:34:00 === Open database OK.
[INF] 2019-08-07 19:34:00 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:34:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:34:00 === Open database OK.
[INF] 2019-08-07 19:34:00 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id left join pnt_carton on pnt_pack.pack_id = pnt_carton.pack_id left join pnt_pallet on pnt_carton.carton_id = pnt_pallet.carton_id where pallet_id =  @code 
[INF] 2019-08-07 19:34:00 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:PNIDEC20198078000R. }
[INF] 2019-08-07 19:34:35 === Open database OK.
[INF] 2019-08-07 19:34:35 === Execute SQL:select sum(count)over(partition by 1),substring(lot,4,4),substring(lot,1,7)
from
(select lot,count(lot) from pnt_carton as aa
left join pnt_pack as bb on aa.pack_id = bb.pack_id
left join t_module as cc on bb.tray_id = cc.tray_id
where aa.carton_id = @pcode
and aa.status = '1'
and bb.status = '1'
group by lot)as tt
order by count desc limit 1

[INF] 2019-08-07 19:34:35 === 		Parameters:{ParamName:@pcode, DbType:AnsiString, Value:HNIDEC201980780006. }
[INF] 2019-08-07 19:34:38 === Open database OK.
[INF] 2019-08-07 19:34:38 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:PNIDEC20198078000R. },{ParamName:@type, DbType:AnsiString, Value:pallet. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:34:38. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:35:56 === Open database OK.
[INF] 2019-08-07 19:35:56 === Execute Function:fn_apply_no
[INF] 2019-08-07 19:35:56 === 		Parameters:{ParamName:@mode, DbType:AnsiString, Value:pack. },{ParamName:@vendor, DbType:AnsiString, Value:NIDEC. },{ParamName:@sitecode, DbType:AnsiString, Value:8. },{ParamName:@date, DbType:AnsiString, Value:2019807. }
[INF] 2019-08-07 19:35:56 === Open database OK.
[INF] 2019-08-07 19:35:56 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status, remark) values (@id, @type, @act, @date, @qty, @user, @status, @remark) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780008. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:35:56. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. },{ParamName:@status, DbType:Int32, Value:0. },{ParamName:@remark, DbType:AnsiString, Value:. }
[INF] 2019-08-07 19:35:58 === Open database OK.
[INF] 2019-08-07 19:35:58 === Execute SQL:select count(tray_id) as qty from t_module where tray_id = @code
[INF] 2019-08-07 19:35:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:13. }
[INF] 2019-08-07 19:35:58 === Open database OK.
[INF] 2019-08-07 19:35:58 === Execute SQL:select count(tray_id) as qty from pnt_pack where tray_id = @code and (status = 0 or status = 1)
[INF] 2019-08-07 19:35:58 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:13. }
[INF] 2019-08-07 19:35:58 === Open database OK.
[INF] 2019-08-07 19:35:58 === Execute SQL:insert into pnt_pack values (@packid, @trayid, @pdate, 0) Params:{ParamName:@packid, DbType:AnsiString, Value:BNIDEC201980780008. },{ParamName:@trayid, DbType:AnsiString, Value:13. },{ParamName:@pdate, DbType:DateTime, Value:2019/8/7 19:35:58. }
[INF] 2019-08-07 19:36:01 === Open database OK.
[INF] 2019-08-07 19:36:01 === Execute SQLS : [update pnt_pack set status = 1 where pack_id = 'BNIDEC201980780008' and tray_id = '13']
[INF] 2019-08-07 19:36:01 === Open database OK.
[INF] 2019-08-07 19:36:01 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 19:36:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780008. }
[INF] 2019-08-07 19:36:01 === Open database OK.
[INF] 2019-08-07 19:36:01 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:36:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780008. }
[INF] 2019-08-07 19:36:01 === Open database OK.
[INF] 2019-08-07 19:36:01 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 19:36:01 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780008. }
[INF] 2019-08-07 19:36:10 === Open database OK.
[INF] 2019-08-07 19:36:10 === Execute SQL:select count(m.module_id) as qty from t_module m, pnt_pack p where p.tray_id = m.tray_id and p.pack_id = @code and p.status = 1
[INF] 2019-08-07 19:36:10 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780008. }
[INF] 2019-08-07 19:36:10 === Open database OK.
[INF] 2019-08-07 19:36:10 === Execute SQL:select lot ,count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id =  @code group by lot order by qty desc ,lot  limit 16
[INF] 2019-08-07 19:36:10 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780008. }
[INF] 2019-08-07 19:36:10 === Open database OK.
[INF] 2019-08-07 19:36:10 === Execute SQL:select count(lot) as qty from t_module left join pnt_pack on t_module.tray_id = pnt_pack.tray_id where pack_id = @code 
[INF] 2019-08-07 19:36:10 === 		Parameters:{ParamName:@code, DbType:AnsiString, Value:BNIDEC201980780008. }
[INF] 2019-08-07 19:36:16 === Open database OK.
[INF] 2019-08-07 19:36:16 === Execute SQL:insert into pnt_mng (pkg_id, pkg_type, act, pkg_date, pkg_qty, pkg_user, pkg_status) values (@id, @type, @act, @date, @qty, @user, @status) Params:{ParamName:@id, DbType:AnsiString, Value:BNIDEC201980780008. },{ParamName:@type, DbType:AnsiString, Value:pack. },{ParamName:@act, DbType:AnsiString, Value:r. },{ParamName:@date, DbType:DateTime, Value:2019/8/7 19:36:16. },{ParamName:@qty, DbType:Int32, Value:1. },{ParamName:@status, DbType:Int32, Value:1. },{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:40:29 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 19:40:35 === Open database OK.
[INF] 2019-08-07 19:40:35 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 19:40:35 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
[INF] 2019-08-07 19:41:32 === Create database NIDEC category:PostgreSQL
[INF] 2019-08-07 19:41:38 === Open database OK.
[INF] 2019-08-07 19:41:38 === Execute SQL:select user_id, user_name, pass, u_role from t_user where user_id = @user
[INF] 2019-08-07 19:41:38 === 		Parameters:{ParamName:@user, DbType:AnsiString, Value:20181115110. }
